<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Portfolio | Satyam Dixit</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        /* --- VISUALLY STUNNING DARK THEME --- */
        :root {
            --bg-primary: #0F172A;      /* Slate 900 */
            --bg-secondary: #1E293B;    /* Slate 800 */
            --bg-tertiary: #334155;    /* Slate 700 */
            --border-color: #475569;    /* Slate 600 */
            --text-primary: #F1F5F9;      /* Slate 100 */
            --text-secondary: #94A3B8;    /* Slate 400 */
            --text-muted: #64748B;      /* Slate 500 */
            --accent-primary: #22D3EE;   /* Cyan 400 */
            --accent-secondary: #67E8F9; /* Cyan 300 */
            --accent-dark: #06B6D4;    /* Cyan 500 */
            --accent-glow: rgba(34, 211, 238, 0.2); /* For glowing shadows */
            --success-primary: #10B981; /* Emerald 500 */
            --success-dark: #059669;    /* Emerald 600 */
            --warning-text: #F59E0B;   /* Amber 500 */
            --error-text: #EF4444;    /* Red 500 */
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-secondary);
            line-height: 1.7;
            overflow-x: hidden;
            position: relative;
        }

        /* Dynamic Background Canvas */
        canvas#backgroundCanvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
            opacity: 0.35; /* Increased opacity for better visibility on dark bg */
            pointer-events: none;
        }

        /* --- Typography --- */
        h1, h2, h3, h4, h5, h6 { color: var(--text-primary); font-weight: 700; letter-spacing: -0.025em; }
        h2 { font-size: 2.25rem; line-height: 2.5rem; margin-bottom: 0.75rem; }
        h3 { font-size: 1.5rem; line-height: 2rem; margin-bottom: 1rem; color: var(--text-primary); }
        h4 { font-size: 1.125rem; line-height: 1.75rem; font-weight: 600; color: var(--text-primary); }
        p { color: var(--text-secondary); }

        /* --- Navigation --- */
        nav {
            height: 4rem;
            background-color: rgba(15, 23, 42, 0.75); /* --bg-primary with opacity */
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border-color);
            transition: background-color 0.3s ease;
        }
        nav a {
            font-size: 0.875rem;
            color: var(--text-secondary);
            transition: color 0.2s ease-in-out, text-shadow 0.3s ease;
            position: relative;
        }
        nav a:hover {
            color: var(--accent-primary);
            text-shadow: 0 0 8px var(--accent-glow);
        }
        #mobile-menu { background-color: var(--bg-secondary); border-bottom: 1px solid var(--border-color); }
        #mobile-menu a:hover { background-color: var(--bg-tertiary); color: var(--accent-primary); }

        /* --- Hero Section --- */
        #hero {
            padding: 6rem 0;
            border-bottom: 1px solid var(--border-color);
            position: relative;
        }
        #hero::before {
            content: '';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 50%;
            height: 80%;
            background: radial-gradient(circle, var(--accent-glow) 0%, transparent 70%);
            filter: blur(80px);
            opacity: 0.5;
            z-index: -1;
        }
        #hero h1 {
            background: linear-gradient(120deg, var(--accent-secondary) 0%, var(--text-primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* --- Sections --- */
        section {
            scroll-margin-top: 70px;
            padding: 6rem 0;
        }
        .section-divider {
            width: 4rem; height: 3px;
            background: linear-gradient(90deg, transparent, var(--accent-primary), transparent);
            margin: 1.5rem auto 0;
            border-radius: 999px;
            opacity: 0.8;
        }

        /* --- Cards --- */
        .card {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
            display: flex; flex-direction: column; height: 100%;
            overflow: hidden;
            position: relative;
        }
        .card::before { /* Gradient border effect container */
            content: "";
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            border-radius: inherit;
            padding: 1px;
            background: linear-gradient(135deg, var(--border-color), var(--border-color));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            transition: background 0.4s ease;
            pointer-events: none;
        }
        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px -5px var(--accent-glow), 0 8px 10px -6px var(--accent-glow);
        }
        .card:hover::before {
             background: linear-gradient(135deg, var(--accent-primary), var(--bg-tertiary));
        }
        .card-content { flex-grow: 1; padding: 1.5rem; }
        .card-footer {
            margin-top: auto;
            padding: 1.25rem 1.5rem;
            border-top: 1px solid var(--border-color);
            background-color: rgba(15, 23, 42, 0.5); /* Slightly transparent dark bg */
        }

        /* --- Tags --- */
        .mono-tag {
            font-family: 'Roboto Mono', monospace;
            background-color: var(--bg-tertiary);
            color: var(--text-secondary);
            padding: 0.3rem 0.6rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            display: inline-block;
            margin: 0.15rem;
            border: 1px solid transparent;
            transition: all 0.2s ease;
        }
        .mono-tag:hover {
            color: var(--text-primary);
            background-color: var(--accent-dark);
            border-color: var(--accent-secondary);
            text-shadow: 0 0 5px var(--accent-glow);
        }

        /* --- Buttons --- */
        .button-like {
            transition: all 0.2s ease-in-out;
            border-radius: 0.375rem;
            font-weight: 600; text-align: center;
            cursor: pointer; display: inline-block;
            padding: 0.6rem 1.2rem;
            border: 1px solid transparent;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .button-like:before {
            content: '';
            position: absolute;
            top: 0; left: -100%;
            width: 100%; height: 100%;
            background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
            z-index: -1;
        }
        .button-like:hover:before { left: 100%; }
        .button-like:focus { outline: none; box-shadow: 0 0 0 3px var(--accent-glow); }
        .button-like:disabled { opacity: 0.5; cursor: not-allowed; background: var(--bg-tertiary); border-color: var(--border-color); color: var(--text-muted); }

        .btn-primary {
            background: var(--accent-dark);
            color: var(--text-primary);
            border-color: var(--accent-primary);
            box-shadow: 0 2px 10px -2px var(--accent-glow);
        }
        .btn-primary:hover:not(:disabled) {
            background: var(--accent-primary);
            border-color: var(--accent-secondary);
            box-shadow: 0 4px 15px -2px var(--accent-glow);
            transform: translateY(-2px);
        }
        .btn-success {
            background: var(--success-dark);
            color: #FFFFFF;
            border-color: var(--success-primary);
        }
        .btn-success:hover:not(:disabled) {
            background: var(--success-primary);
            border-color: var(--success-dark);
            transform: translateY(-1px);
        }
        #contact-form button[type="submit"] {
            background: linear-gradient(45deg, var(--accent-dark), var(--accent-primary));
        }

        /* --- Forms & Inputs --- */
        input:focus, textarea:focus, button:focus, select:focus {
            outline: none;
            box-shadow: 0 0 0 3px var(--accent-glow);
            border-color: var(--accent-primary);
        }
        input[type="text"], input[type="email"], textarea, select, input[type="password"], input[type="url"] {
            border: 1px solid var(--border-color);
            background-color: var(--bg-primary);
            border-radius: 0.375rem; padding: 0.7rem 0.9rem;
            color: var(--text-primary);
            transition: all 0.2s ease;
            font-size: 0.875rem; width: 100%;
        }
        input[type="text"]::placeholder, input[type="email"]::placeholder, textarea::placeholder { color: var(--text-muted); }
        input[type="text"]:focus, input[type="email"]:focus, textarea:focus, select:focus {
            border-color: var(--accent-primary);
            background-color: var(--bg-secondary);
        }
        input[type="file"] {
            border-radius: 0.375rem; border: 1px solid var(--border-color);
            background-color: var(--bg-secondary); color: var(--text-secondary);
            padding: 0.2rem; font-size: 0.875rem;
        }
        input[type="file"]::file-selector-button {
            padding: 0.5rem 1rem; border-radius: 0.25rem 0 0 0.25rem;
            border: none; border-right: 1px solid var(--border-color);
            background-color: var(--bg-tertiary); color: var(--text-primary);
            cursor: pointer; transition: background-color 0.2s ease-in-out;
            font-weight: 500; margin-right: 1rem;
        }
        input[type="file"]::file-selector-button:hover { background-color: var(--border-color); }

        /* --- Demo Specific --- */
        .demo-status { min-height: 1.25rem; font-size: 0.8rem; text-align: center; color: var(--text-muted); margin-top: 0.5rem; transition: color 0.3s ease; font-weight: 500; }
        .result-box { background-color: var(--bg-primary); border: 1px solid var(--border-color); color: var(--text-primary); min-height: 5rem; max-height: 15rem; overflow-y: auto; padding: 0.75rem; border-radius: 0.375rem; white-space: pre-wrap; font-size: 0.8rem; margin-top: 0.5rem; }
        .image-result-box { background-color: var(--bg-primary); border: 1px solid var(--border-color); min-height: 12rem; max-height: 20rem; display: flex; align-items: center; justify-content: center; padding: 0.5rem; border-radius: 0.375rem; margin-top: 0.5rem; overflow: hidden; }
        .image-result-box img { max-width: 100%; max-height: 100%; object-fit: contain; display: block; border-radius: 0.25rem; }
        .image-result-box span { color: var(--text-muted); font-size: 0.8rem; }
        .warning-text { color: var(--warning-text); }
        .error-text { color: var(--error-text); }

        /* --- Info Box --- */
        .info-box { background-color: rgba(30, 41, 59, 0.8); border: 1px solid var(--accent-dark); color: var(--text-primary); padding: 1.25rem; border-radius: 0.5rem; font-size: 0.875rem; }
        .info-box a { color: var(--accent-secondary); font-weight: 600; text-decoration: underline; text-decoration-color: var(--accent-glow); }
        .info-box a:hover { color: var(--accent-primary); }
        .info-box input[type="password"] { background-color: var(--bg-primary); border-color: var(--accent-primary); color: var(--text-primary); }

        /* --- Scrollbar --- */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--bg-primary); }
        ::-webkit-scrollbar-thumb { background: var(--bg-tertiary); border-radius: 5px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--border-color); }

        /* --- Footer --- */
        footer { border-top: 1px solid var(--border-color); background-color: var(--bg-primary); }
        footer a { color: var(--text-secondary); transition: all 0.2s ease; display: inline-block; }
        footer a:hover { color: var(--accent-primary); transform: scale(1.1) translateY(-2px); text-shadow: 0 0 10px var(--accent-glow); }
        footer p { color: var(--text-secondary); }

        /* --- Scroll Animation Classes --- */
        .scroll-animate {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .scroll-animate.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Scroll to Top Button --- */
        #scrollToTopBtn {
            background: var(--accent-dark);
            color: #FFFFFF;
            transition: all 0.3s ease;
        }
        #scrollToTopBtn:hover {
            background: var(--accent-primary);
            transform: scale(1.1);
            box-shadow: 0 0 15px var(--accent-glow);
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Dynamic Background Canvas -->
    <canvas id="backgroundCanvas"></canvas>

    <!-- Background Animation Script (Updated for Dark Theme) -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const bgCanvas = document.getElementById('backgroundCanvas');
            if (!bgCanvas) return;
            const ctx = bgCanvas.getContext('2d');
            let neurons = [];

            function getCssVar(varName) {
                return getComputedStyle(document.documentElement).getPropertyValue(varName).trim();
            }

            function resizeCanvas() {
                bgCanvas.width = window.innerWidth;
                bgCanvas.height = window.innerHeight;
            }

            class Neuron {
                constructor(x, y, radius, color) {
                    this.x = x;
                    this.y = y;
                    this.radius = radius || Math.random() * 2 + 1.5;
                    this.baseColor = color || getCssVar('--accent-primary') + '99'; // with alpha
                    this.color = this.baseColor;
                    this.velocityX = Math.random() * 0.4 - 0.2; // Slightly faster
                    this.velocityY = Math.random() * 0.4 - 0.2;
                    this.connections = [];
                    this.isFiring = false;
                    this.fireProgress = 0;
                    this.fireDuration = 80;
                }

                draw(ctx) {
                    ctx.beginPath();
                    const currentRadius = this.isFiring ? this.radius * (1 + (this.fireProgress / this.fireDuration) * 1.5) : this.radius;
                    ctx.arc(this.x, this.y, currentRadius, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }

                update(canvas) {
                    this.x += this.velocityX;
                    this.y += this.velocityY;

                    if (this.x <= this.radius || this.x >= canvas.width - this.radius) this.velocityX *= -1;
                    if (this.y <= this.radius || this.y >= canvas.height - this.radius) this.velocityY *= -1;

                    if (this.isFiring) {
                        this.fireProgress++;
                        const waveColor = getCssVar('--accent-secondary');
                        const progressRatio = this.fireProgress / this.fireDuration;
                        const opacity = Math.max(0, 1 - progressRatio).toString(16).slice(2, 4).padStart(2, '0');
                        this.color = `${waveColor}${opacity}`;

                        if (this.fireProgress >= this.fireDuration) {
                            this.isFiring = false;
                            this.fireProgress = 0;
                            this.color = this.baseColor;
                            
                            const shuffledConnections = [...this.connections].sort(() => 0.5 - Math.random());
                            if (shuffledConnections.length > 0) {
                                const connectedNeuron = neurons[shuffledConnections[0]];
                                if (connectedNeuron && !connectedNeuron.isFiring) {
                                    connectedNeuron.isFiring = true;
                                    connectedNeuron.fireProgress = 0;
                                }
                            }
                        }
                    }
                }
            }

            let animationFrameId;
            function initNeurons() {
                cancelAnimationFrame(animationFrameId); // Stop previous loop
                resizeCanvas();
                neurons = [];
                const numNeurons = Math.floor((bgCanvas.width * bgCanvas.height) / 25000); // Responsive number
                const neuronBaseColor = getCssVar('--accent-primary') + '99';

                for (let i = 0; i < numNeurons; i++) {
                    neurons.push(new Neuron(Math.random() * bgCanvas.width, Math.random() * bgCanvas.height, undefined, neuronBaseColor));
                }
                updateConnections();

                if (neurons.length > 0) {
                    for (let i = 0; i < Math.min(3, neurons.length); i++) {
                        const randomIndex = Math.floor(Math.random() * neurons.length);
                        if (neurons[randomIndex]) {
                            neurons[randomIndex].isFiring = true;
                        }
                    }
                }
                animateBackground(); // Start new loop
            }

            function updateConnections() {
                const connectionDistance = 120;
                for (let i = 0; i < neurons.length; i++) {
                    neurons[i].connections = [];
                    for (let j = i + 1; j < neurons.length; j++) {
                        const distance = Math.hypot(neurons[i].x - neurons[j].x, neurons[i].y - neurons[j].y);
                        if (distance < connectionDistance) {
                            neurons[i].connections.push(j);
                        }
                    }
                }
            }

            function drawConnections(ctx) {
                const baseConnectionColor = getCssVar('--accent-primary') + '33'; // ~0.2 alpha
                const firingConnectionColor = getCssVar('--accent-secondary');

                for (let i = 0; i < neurons.length; i++) {
                    const neuronA = neurons[i];
                    for (const j_index of neuronA.connections) {
                        const neuronB = neurons[j_index];
                        if(!neuronB) continue;

                        ctx.beginPath();
                        ctx.moveTo(neuronA.x, neuronA.y);
                        ctx.lineTo(neuronB.x, neuronB.y);

                        if (neuronA.isFiring || neuronB.isFiring) {
                            const firingNeuron = neuronA.isFiring ? neuronA : neuronB;
                            const progress = firingNeuron.fireProgress / firingNeuron.fireDuration;
                            const opacity = Math.sin(progress * Math.PI); // Fades in and out
                            ctx.strokeStyle = `rgba(${parseInt(firingConnectionColor.slice(1,3),16)}, ${parseInt(firingConnectionColor.slice(3,5),16)}, ${parseInt(firingConnectionColor.slice(5,7),16)}, ${opacity * 0.8})`;
                            ctx.lineWidth = 1;
                        } else {
                            ctx.strokeStyle = baseConnectionColor;
                            ctx.lineWidth = 0.5;
                        }
                        ctx.stroke();
                    }
                }
            }

            function animateBackground() {
                ctx.clearRect(0, 0, bgCanvas.width, bgCanvas.height);
                drawConnections(ctx);
                neurons.forEach(neuron => {
                    neuron.update(bgCanvas);
                    neuron.draw(ctx);
                });

                const currentlyFiringCount = neurons.filter(n => n.isFiring).length;
                if (currentlyFiringCount === 0 && neurons.length > 0) {
                     const numToReseed = Math.min(2, neurons.length);
                     for (let i = 0; i < numToReseed; i++) {
                        const randomIndex = Math.floor(Math.random() * neurons.length);
                        if (neurons[randomIndex]) neurons[randomIndex].isFiring = true;
                     }
                }
                animationFrameId = requestAnimationFrame(animateBackground);
            }

            window.addEventListener('resize', initNeurons);
            initNeurons();
        });
    </script>

    <!-- Portfolio Content -->
    <nav class="sticky top-0 z-50">
      <div class="max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8">
          <div class="flex justify-between items-center h-16">
              <a href="#" class="text-xl font-bold text-white hover:text-cyan-400 transition-colors">SD<span class="text-cyan-400">.</span>AI</a>
              <div class="hidden md:flex items-center space-x-6 lg:space-x-8">
                  <a href="#skills">Projects & Code</a>
                  <a href="#demos">AI Demos</a>
                  <a href="#contact">Contact</a>
              </div>
              <div class="md:hidden flex items-center">
                  <button id="mobile-menu-button" class="text-gray-300 hover:text-white focus:outline-none p-2 rounded-md hover:bg-slate-700 transition">
                      <i class="fas fa-bars text-xl"></i>
                  </button>
              </div>
          </div>
      </div>
      <div id="mobile-menu" class="md:hidden hidden absolute top-16 left-0 w-full shadow-lg py-3 z-40">
          <a href="#skills" class="mobile-nav-link block px-4 py-3 text-base">Projects & Code</a>
          <a href="#demos" class="mobile-nav-link block px-4 py-3 text-base">AI Demos</a>
          <a href="#contact" class="mobile-nav-link block px-4 py-3 text-base">Contact</a>
      </div>
  </nav>

  <section id="hero" class="text-center scroll-animate">
      <div class="max-w-4xl mx-auto px-4">
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold mb-4">Satyam Dixit</h1>
          <p class="subtitle text-lg md:text-xl font-medium mb-6 max-w-2xl mx-auto">An AI & Deep Learning portfolio exploring the intersection of high-performance computing and intelligent systems.</p>
      </div>
  </section>

  <section id="skills" class="scroll-animate">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-16">
              <h2 class="text-4xl font-bold mb-3">Featured Projects & Code</h2>
              <p class="max-w-xl mx-auto">Highlights of technical implementations and solutions.</p>
              <div class="section-divider"></div>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
              <div class="card scroll-animate" style="animation-delay: 100ms;">
                  <div class="card-content space-y-4">
                      <div class="flex items-center space-x-4">
                          <i class="fas fa-microchip text-4xl text-emerald-400"></i>
                          <h4 class="text-lg font-semibold">CUDA Optimizations</h4>
                      </div>
                      <p class="text-sm">Examples of accelerating deep learning components using NVIDIA CUDA. Includes kernel implementations and performance analysis.</p>
                  </div>
                  <div class="card-footer">
                      <div><span class="mono-tag">CUDA</span><span class="mono-tag">C++</span><span class="mono-tag">Python</span><span class="mono-tag">PyTorch</span></div>
                      <a href="https://github.com/Satyamdixit6/cuddly-octo-spoon" target="_blank" rel="noopener noreferrer" class="button-like btn-primary mt-4 w-full text-sm">View on GitHub →</a>
                  </div>
              </div>
              <div class="card scroll-animate" style="animation-delay: 200ms;">
                  <div class="card-content space-y-4">
                      <div class="flex items-center space-x-4">
                          <i class="fas fa-book-open-reader text-4xl text-sky-400"></i>
                          <h4 class="text-lg font-semibold">RAG Implementation</h4>
                      </div>
                      <p class="text-sm">Implementing Retrieval-Augmented Generation pipelines to enhance LLM responses with external knowledge. Explores vector databases and prompt engineering.</p>
                  </div>
                  <div class="card-footer">
                      <div><span class="mono-tag">RAG</span><span class="mono-tag">LLM</span><span class="mono-tag">PyTorch</span><span class="mono-tag">Transformers</span><span class="mono-tag">VectorDB</span></div>
                      <a href="https://github.com/Satyamdixit6/RAG" target="_blank" rel="noopener noreferrer" class="button-like btn-primary mt-4 w-full text-sm">View on GitHub →</a>
                  </div>
              </div>
              <div class="card scroll-animate" style="animation-delay: 300ms;">
                  <div class="card-content space-y-4">
                      <div class="flex items-center space-x-4">
                          <i class="fas fa-eye text-4xl text-violet-400"></i>
                          <h4 class="text-lg font-semibold">Computer Vision Systems</h4>
                      </div>
                      <p class="text-sm">Developing systems for image classification, object detection (YOLO), and segmentation. Includes data handling and evaluation.</p>
                  </div>
                  <div class="card-footer">
                      <div><span class="mono-tag">CV</span><span class="mono-tag">PyTorch</span><span class="mono-tag">CNN</span><span class="mono-tag">YOLO</span></div>
                      <a href="https://hub.docker.com/u/satyamdixit6666" target="_blank" rel="noopener noreferrer" class="button-like btn-primary mt-4 w-full text-sm">View on Docker Hub →</a>
                  </div>
              </div>
          </div>
      </div>
  </section>

  <section id="demos" class="bg-slate-900/50 scroll-animate">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-16">
              <h2 class="text-4xl font-bold mb-3">Interactive AI Demos</h2>
              <p class="max-w-2xl mx-auto">Explore live AI models, from lightweight browser-based inference to powerful cloud APIs.</p>
              <div class="section-divider"></div>
          </div>
          <div class="mb-16">
              <h3 class="text-2xl font-semibold mb-3 text-center">Client-Side Demos (Experimental)</h3>
              <p class="text-center text-sm mb-8 max-w-3xl mx-auto">These demos run ONNX models directly in your browser. Performance depends heavily on your device and browser support for WebGPU. Models are downloaded on first use. <strong class="warning-text">Image generation is VERY resource intensive and may be slow or crash the browser tab.</strong></p>
              <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-7xl mx-auto">
                  <div class="card scroll-animate">
                      <div class="card-content space-y-3">
                          <h4 class="text-base font-semibold"><i class="fas fa-camera mr-2 text-sky-400"></i>Vision (Captioning)</h4>
                          <p class="text-xs">Model: <code class="mono-tag !text-xs !py-0.5 !px-1.5">vit-gpt2-img-cap</code></p>
                          <div><input type="file" id="p1_imageUpload" accept="image/*" class="block w-full text-xs"></div>
                          <div class="w-full h-32 bg-slate-900 rounded border border-slate-700 flex items-center justify-center overflow-hidden"><span id="p1_previewText" class="text-slate-500 text-xs px-2 text-center">Preview Area</span><img id="p1_imagePreview" src="#" alt="Preview" class="max-h-full max-w-full hidden object-contain rounded"/></div>
                      </div>
                      <div class="card-footer mt-auto space-y-2">
                          <button id="p1_generateCaptionBtn" class="button-like btn-primary w-full !text-xs !py-1.5">Generate</button>
                          <div id="p1_status" class="demo-status"></div>
                          <div id="p1_captionResult" class="w-full p-1.5 result-box !text-xs !min-h-[3rem]"></div>
                      </div>
                  </div>
                  <div class="card scroll-animate">
                      <div class="card-content space-y-3">
                          <h4 class="text-base font-semibold"><i class="fas fa-comment-dots mr-2 text-violet-400"></i>Language (Text2Text)</h4>
                          <p class="text-xs">Model: <code class="mono-tag !text-xs !py-0.5 !px-1.5">flan-t5-small</code><br/><strong class="warning-text !text-xs">Warning: Output quality is extremely basic.</strong></p>
                          <div><label for="p2_textPrompt" class="block text-xs font-medium mb-1">Prompt:</label><textarea id="p2_textPrompt" rows="2" class="w-full p-1.5 text-xs" placeholder="Translate English to French: Hello"></textarea></div>
                      </div>
                      <div class="card-footer mt-auto space-y-2">
                          <button id="p2_generateTextBtn" class="button-like btn-primary w-full !text-xs !py-1.5">Generate</button>
                          <div id="p2_status" class="demo-status"></div>
                          <div id="p2_generationResult" class="w-full p-1.5 result-box !text-xs !min-h-[5rem]"></div>
                      </div>
                  </div>
                  <div class="card scroll-animate">
                      <div class="card-content space-y-3">
                          <h4 class="text-base font-semibold"><i class="fas fa-image mr-2 text-teal-400"></i>Image Generation</h4>
                          <p class="text-xs">Model: <code class="mono-tag !text-xs !py-0.5 !px-1.5">stable-diffusion-turbo</code><br/><strong class="error-text !text-xs font-bold">WARNING: VERY High RAM/VRAM usage! May be slow or crash tab. Requires WebGPU support.</strong></p>
                          <div><label for="p7_imagePrompt" class="block text-xs font-medium mb-1">Prompt:</label><textarea id="p7_imagePrompt" rows="2" class="w-full p-1.5 text-xs" placeholder="A photo of an astronaut riding a horse on the moon"></textarea></div>
                      </div>
                      <div class="card-footer mt-auto space-y-2">
                          <button id="p7_generateImageBtn" class="button-like btn-primary w-full !text-xs !py-1.5">Generate Image</button>
                          <div id="p7_status" class="demo-status"></div>
                          <div id="p7_imageResultContainer" class="image-result-box"><span id="p7_imagePlaceholder">Result will appear here</span><img id="p7_imageResult" src="#" alt="Generated Image" class="hidden"/></div>
                      </div>
                  </div>
              </div>
          </div>

          <div id="powerful-models" class="mb-16 pt-10 border-t border-slate-700/70 scroll-animate">
              <h3 class="text-2xl font-semibold mb-3 text-center">Cloud API Demos (High Quality)</h3>
              <p class="text-center text-sm mb-6 max-w-xl mx-auto">Interact with larger models hosted on Hugging Face's Inference API for significantly better results.</p>
              <div class="max-w-xl mx-auto mb-8 p-5 info-box">
                  <label for="hf_api_token" class="block font-medium mb-2 text-sm">Enter HF API Token (Required):</label>
                  <input type="password" id="hf_api_token" class="w-full p-2 text-sm" placeholder="Paste your READ token (hf_...)">
                  <span id="hf_api_token_feedback" class="text-xs mt-1"></span>
                  <p class="text-xs mt-2 opacity-80">Needed for these demos. Get one free from <a href="https://huggingface.co/settings/tokens" target="_blank" rel="noopener noreferrer">HF Settings</a>. The token is only used by your browser to make API calls.</p>
              </div>
              <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                  <div class="card p-6 scroll-animate">
                      <h4 class="text-lg font-semibold mb-4 text-center"><i class="fas fa-camera-retro mr-2 text-sky-400"></i>Vision (API)</h4>
                      <div class="space-y-4">
                          <div><label for="p4_imageUrl" class="block text-xs font-medium mb-1">Image URL:</label><input type="url" id="p4_imageUrl" class="w-full p-2 text-sm" placeholder="https://..."></div>
                          <div><label for="p4_vlmModelId" class="block text-xs font-medium mb-1">HF Model ID:</label><input type="text" id="p4_vlmModelId" class="w-full p-2 text-sm" value="Salesforce/blip-image-captioning-large"></div>
                          <div id="p4_vqaPromptDiv"><label for="p4_vqaPrompt" class="block text-xs font-medium mb-1">Question (Optional - for VQA models):</label><input type="text" id="p4_vqaPrompt" class="w-full p-2 text-sm" placeholder="e.g., What color is the car?"></div>
                          <button id="p4_runVlmBtn" class="button-like btn-success w-full text-sm">Run via API</button>
                          <div id="p4_vlmStatus" class="demo-status"></div>
                          <div id="p4_vlmResult" class="w-full p-2 result-box text-xs"></div>
                      </div>
                  </div>
                  <div class="card p-6 scroll-animate">
                      <h4 class="text-lg font-semibold mb-4 text-center"><i class="fas fa-comments mr-2 text-violet-400"></i>Language (API)</h4>
                      <div class="space-y-4">
                          <div><label for="p5_lmPrompt" class="block text-xs font-medium mb-1">Prompt:</label><textarea id="p5_lmPrompt" rows="3" class="w-full p-2 text-sm" placeholder="Explain the concept of Retrieval-Augmented Generation in simple terms."></textarea></div>
                          <div><label for="p5_lmModelId" class="block text-xs font-medium mb-1">HF Model ID:</label><input type="text" id="p5_lmModelId" class="w-full p-2 text-sm" value="microsoft/Phi-3-mini-4k-instruct"></div>
                          <button id="p5_runLmBtn" class="button-like btn-success w-full text-sm">Run via API</button>
                          <div id="p5_lmStatus" class="demo-status"></div>
                          <div id="p5_lmResult" class="w-full p-2 result-box text-xs"></div>
                      </div>
                  </div>
                  <div class="card p-6 scroll-animate">
                      <h4 class="text-lg font-semibold mb-4 text-center"><i class="fas fa-laptop-code mr-2 text-emerald-400"></i>Coding (API)</h4>
                      <div class="space-y-4">
                          <div><label for="p6_codePrompt" class="block text-xs font-medium mb-1">Code Prompt:</label><textarea id="p6_codePrompt" rows="3" class="w-full p-2 text-sm font-mono" placeholder="Write a python function to compute the Fibonacci sequence."></textarea></div>
                          <div><label for="p6_coderModelId" class="block text-xs font-medium mb-1">HF Model ID:</label><input type="text" id="p6_coderModelId" class="w-full p-2 text-sm" value="deepseek-ai/deepseek-coder-1.3b-instruct"></div>
                          <button id="p6_runCoderBtn" class="button-like btn-success w-full text-sm">Run via API</button>
                          <div id="p6_coderStatus" class="demo-status"></div>
                          <div id="p6_coderResult" class="w-full p-2 result-box text-xs font-mono"></div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </section>

  <section id="contact" class="scroll-animate">
      <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="text-center mb-12">
              <h2 class="text-4xl font-bold mb-3">Get In Touch</h2>
              <p>Let's discuss AI, potential collaborations, or just connect!</p>
              <div class="section-divider"></div>
          </div>
          <div class="bg-slate-800/80 p-8 rounded-lg shadow-2xl border border-slate-700">
              <form id="contact-form">
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                      <div>
                          <label for="name" class="block font-medium mb-2 text-sm">Name</label>
                          <input type="text" id="name" name="name" required>
                      </div>
                      <div>
                          <label for="email" class="block font-medium mb-2 text-sm">Email</label>
                          <input type="email" id="email" name="email" required>
                      </div>
                  </div>
                  <div class="mb-6">
                      <label for="subject" class="block font-medium mb-2 text-sm">Subject</label>
                      <input type="text" id="subject" name="subject">
                  </div>
                  <div class="mb-6">
                      <label for="message" class="block font-medium mb-2 text-sm">Message</label>
                      <textarea id="message" name="message" rows="5" required></textarea>
                  </div>
                  <div class="text-center">
                      <button type="submit" class="button-like w-full sm:w-auto font-semibold text-white">Send Message</button>
                  </div>
              </form>
              <div id="contact-status" class="mt-4 text-center text-sm"></div>
              <div class="mt-8 pt-6 border-t border-slate-700 text-center">
                  <p class="text-sm mb-3">Or reach out directly:</p>
                  <p class="text-base font-medium text-slate-300 hover:text-cyan-400 transition-colors">
                      <a href="mailto:satyamdixit6666@gmail.com"><i class="fas fa-envelope mr-2 text-cyan-400"></i> satyamdixit6666@gmail.com</a>
                  </p>
              </div>
          </div>
      </div>
  </section>

  <footer class="py-10 scroll-animate">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
          <div class="mb-4 space-x-6">
              <a href="https://linkedin.com/in/satyamdixit" target="_blank" rel="noopener noreferrer" title="LinkedIn"><i class="fab fa-linkedin-in text-2xl"></i></a>
              <a href="https://github.com/Satyamdixit6" target="_blank" rel="noopener noreferrer" title="GitHub"><i class="fab fa-github text-2xl"></i></a>
              <a href="https://twitter.com/satyamdixit" target="_blank" rel="noopener noreferrer" title="Twitter"><i class="fab fa-twitter text-2xl"></i></a>
              <a href="https://hub.docker.com/u/satyamdixit6666" target="_blank" rel="noopener noreferrer" title="Docker Hub"><i class="fab fa-docker text-2xl"></i></a>
          </div>
          <p class="text-sm">© <span id="footerYear"></span> Satyam Dixit. All rights reserved.</p>
      </div>
  </footer>

  <button id="scrollToTopBtn" title="Go to top" class="fixed bottom-5 right-5 p-3 rounded-full shadow-lg focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-opacity duration-300 opacity-0 pointer-events-none z-50">
      <i class="fas fa-arrow-up text-xl"></i>
  </button>

    <script type="module">
        // Import the pipeline function and env object from Transformers.js CDN
        import { pipeline, env } from 'https://cdn.jsdelivr.net/npm/@xenova/transformers@2.17.1';

        // --- Configuration & Initial Status ---
        console.log("Initializing Transformers.js v2.17.1...");
        // Set initial status for all demo areas
        ['p1_status', 'p2_status', 'p7_status', 'p4_vlmStatus', 'p5_lmStatus', 'p6_coderStatus'].forEach(id => setStatus(id, 'Ready.'));
        // Configure environment settings for Transformers.js
        env.allowLocalModels = false; // Disallow loading models from local cache initially
        env.backends.onnx.executionProviders = ['webgpu', 'wasm']; // Prioritize WebGPU, fallback to WASM

        // --- Model Pipeline Instances (Lazy Loaded) ---
        let p1_captioner = null;       // For Vision (Captioning) demo
        let p2_generator = null;       // For Language (Text2Text) demo
        let p7_imageGenerator = null; // For Image Generation demo

        // --- Constants for Browser Model Names ---
        const P1_MODEL_BROWSER = 'Xenova/vit-gpt2-image-captioning';
        const P2_MODEL_BROWSER = 'Xenova/flan-t5-small';
        const P7_MODEL_BROWSER = 'Xenova/stable-diffusion-turbo';

        // --- Helper Functions ---
        function setStatus(elementId, text, level = 'info') {
            const element = document.getElementById(elementId);
            if (element) {
                element.textContent = text;
                element.className = 'demo-status text-xs text-center'; // Reset classes
                switch (level) {
                    case 'error':   element.style.color = 'var(--error-text)'; console.error(`[${elementId}] ${text}`); break;
                    case 'warning': element.style.color = 'var(--warning-text)'; console.warn(`[${elementId}] ${text}`); break;
                    case 'success': element.style.color = 'var(--success-primary)'; console.log(`[${elementId}] ${text}`); break;
                    default:        element.style.color = 'var(--text-muted)'; console.log(`[${elementId}] ${text}`);
                }
            }
        }

        function clearStatusDelay(elementId, delay = 5000) {
            setTimeout(() => {
                const element = document.getElementById(elementId);
                if (element && !element.textContent.toLowerCase().includes('error') && !element.textContent.toLowerCase().includes('loading') && !element.textContent.toLowerCase().includes('downloading') && !element.textContent.toLowerCase().includes('generating')) {
                    setStatus(elementId, 'Ready.', 'info');
                }
            }, delay);
        }

        function handleProgress(elementId, data) {
            let statusText = 'Loading model...';
            let level = 'info';
            try {
                const filename = data.file ? data.file.split(/[\\/]/).pop() : 'model file';
                switch (data.status) {
                    case 'progress':
                        const percentage = data.total ? ((data.downloaded / data.total) * 100).toFixed(1) : (data.downloaded / 1024 / 1024).toFixed(1) + 'MB';
                        statusText = `Downloading ${filename} (${percentage}${data.total ? '%' : ''})`;
                        break;
                    case 'ready':
                    case 'loaded':
                        statusText = `Model ready: ${filename}`;
                        level = 'success';
                        break;
                    case 'initiate':
                        statusText = `Initiating: ${filename}`;
                        break;
                    default:
                        statusText = `Model status: ${data.status} (${filename})`;
                }
            } catch (e) {
                console.warn("Progress Handling Error:", data, e);
                statusText = `Model status: ${data?.status || 'loading...'}`;
                level = 'warning';
            }
            setStatus(elementId, statusText, level);
        }

        // --- Lazy Initialization for Browser Pipelines ---
        async function getCaptioner(statusId) {
            if (!p1_captioner) {
                setStatus(statusId, 'Loading captioning pipeline...', 'info');
                try {
                    p1_captioner = await pipeline('image-to-text', P1_MODEL_BROWSER, {
                        progress_callback: data => handleProgress(statusId, data)
                    });
                    setStatus(statusId, 'Captioning pipeline ready.', 'success');
                } catch (error) {
                    console.error("Captioner pipeline init failed:", error);
                    setStatus(statusId, `Error loading captioning model: ${error.message}. Please try refreshing the page.`, 'error');
                    return null;
                }
            }
            return p1_captioner;
        }

        async function getTextGenerator(statusId) {
            if (!p2_generator) {
                setStatus(statusId, 'Loading text pipeline...', 'info');
                try {
                    p2_generator = await pipeline('text2text-generation', P2_MODEL_BROWSER, {
                        progress_callback: data => handleProgress(statusId, data)
                    });
                     setStatus(statusId, 'Text pipeline ready.', 'success');
                } catch (e) {
                    console.warn("text2text-generation failed, trying translation task as fallback", e);
                    setStatus(statusId, 'Fallback: Trying translation pipeline...', 'warning');
                    try {
                        p2_generator = await pipeline('translation', P2_MODEL_BROWSER, {
                            progress_callback: data => handleProgress(statusId, data)
                        });
                        setStatus(statusId, 'Translation pipeline ready.', 'success');
                    } catch (error) {
                        console.error("Text generator pipeline init failed:", error);
                        setStatus(statusId, `Error loading text generation model: ${error.message}. Please try refreshing the page.`, 'error');
                        return null;
                    }
                }
            }
            return p2_generator;
        }

        async function getImageGenerator(statusId) {
            if (!p7_imageGenerator) {
                setStatus(statusId, 'Loading image generation pipeline (this may take a while)...', 'warning');
                try {
                    p7_imageGenerator = await pipeline('text-to-image', P7_MODEL_BROWSER, {
                        progress_callback: data => handleProgress(statusId, data),
                        device: env.backends.onnx.executionProviders.includes('webgpu') ? 'webgpu' : 'cpu', // Prefer WebGPU
                    });
                    setStatus(statusId, 'Image generation pipeline ready. You can now enter a prompt.', 'success');
                } catch (error) {
                    console.error("Image generator pipeline init failed:", error);
                    setStatus(statusId, `Error loading image generator: ${error.message}. Ensure WebGPU is enabled/supported, or try refreshing the page.`, 'error');
                    return null;
                }
            }
            return p7_imageGenerator;
        }

        // --- Tier 1: In-Browser Demo Logic ---
        const p1_imageUpload = document.getElementById('p1_imageUpload');
        const p1_imagePreview = document.getElementById('p1_imagePreview');
        const p1_previewText = document.getElementById('p1_previewText');
        const p1_generateCaptionBtn = document.getElementById('p1_generateCaptionBtn');
        const p1_captionResult = document.getElementById('p1_captionResult');
        const P1_STATUS_ID = 'p1_status';
        let p1_imageDataUrl = null;

        if (p1_imageUpload) {
            p1_imageUpload.addEventListener('change', (event) => {
                const file = event.target.files[0];
                p1_imageDataUrl = null;
                p1_imagePreview.src = '#';
                p1_imagePreview.classList.add('hidden');
                p1_previewText.classList.remove('hidden');
                if (p1_captionResult) p1_captionResult.textContent = '';
                setStatus(P1_STATUS_ID, 'Select an image to generate a caption.', 'info');

                if (file && file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        p1_imageDataUrl = e.target.result;
                        p1_imagePreview.src = p1_imageDataUrl;
                        p1_imagePreview.classList.remove('hidden');
                        p1_previewText.classList.add('hidden');
                        setStatus(P1_STATUS_ID, 'Image loaded. Ready to generate caption.', 'info');
                    };
                    reader.onerror = (e) => { setStatus(P1_STATUS_ID, 'Error reading image file. Please try again.', 'error'); console.error("FileReader error:", e); };
                    reader.readAsDataURL(file);
                } else if (file) {
                    setStatus(P1_STATUS_ID, 'Error: Invalid file type. Please select an image (e.g., JPG, PNG).', 'error');
                    event.target.value = '';
                }
            });
        }

        if (p1_generateCaptionBtn) {
            const originalBtnText = p1_generateCaptionBtn.innerHTML;
            p1_generateCaptionBtn.addEventListener('click', async () => {
                if (!p1_imageDataUrl) { setStatus(P1_STATUS_ID, 'Please select an image first to generate a caption.', 'warning'); return; }

                p1_generateCaptionBtn.disabled = true;
                p1_generateCaptionBtn.innerHTML = `<i class="fas fa-spinner fa-spin"></i> Generating...`;
                if(p1_captionResult) p1_captionResult.textContent = '';
                setStatus(P1_STATUS_ID, 'Initializing captioning model...', 'info');

                try {
                    const captioner = await getCaptioner(P1_STATUS_ID);
                    if (!captioner) return; 
                    setStatus(P1_STATUS_ID, 'Generating caption for the image...', 'info');
                    const output = await captioner(p1_imageDataUrl, {
                        max_new_tokens: 200,
                        temperature: 0.7,
                        repetition_penalty: 1.2
                    });
                    const caption = output[0]?.generated_text || "No caption could be generated for this image.";
                    if (p1_captionResult) p1_captionResult.textContent = caption;
                    setStatus(P1_STATUS_ID, 'Caption generated successfully!', 'success');
                } catch (error) {
                    console.error("Caption generation error:", error);
                    setStatus(P1_STATUS_ID, `Caption generation failed: ${error.message}. Please try another image or refresh.`, 'error');
                    if (p1_captionResult) p1_captionResult.textContent = 'Caption generation failed. See status for details.';
                } finally {
                    p1_generateCaptionBtn.disabled = false;
                    p1_generateCaptionBtn.innerHTML = originalBtnText;
                    clearStatusDelay(P1_STATUS_ID);
                }
            });
        }

        const p2_textPrompt = document.getElementById('p2_textPrompt');
        const p2_generateTextBtn = document.getElementById('p2_generateTextBtn');
        const p2_generationResult = document.getElementById('p2_generationResult');
        const P2_STATUS_ID = 'p2_status';

        if (p2_generateTextBtn) {
            const originalBtnText = p2_generateTextBtn.innerHTML;
            p2_generateTextBtn.addEventListener('click', async () => {
                const promptText = p2_textPrompt.value.trim();
                if (!promptText) { setStatus(P2_STATUS_ID, 'Please enter a prompt to generate text.', 'warning'); return; }

                p2_generateTextBtn.disabled = true;
                p2_generateTextBtn.innerHTML = `<i class="fas fa-spinner fa-spin"></i> Generating...`;
                if(p2_generationResult) p2_generationResult.textContent = '';
                setStatus(P2_STATUS_ID, 'Initializing text generation model...', 'info');

                try {
                    const generator = await getTextGenerator(P2_STATUS_ID);
                    if (!generator) return;
                    setStatus(P2_STATUS_ID, 'Generating text based on your prompt...', 'info');
                    const output = await generator(promptText, {
                        max_new_tokens: 150,
                        temperature: 0.8,
                        num_beams: 4,
                        early_stopping: true
                    });
                    const generatedText = output[0]?.generated_text || "No text could be generated for this prompt.";
                    if (p2_generationResult) p2_generationResult.textContent = generatedText;
                    setStatus(P2_STATUS_ID, 'Text generated successfully!', 'success');
                } catch (error) {
                    console.error("Text generation error:", error);
                    setStatus(P2_STATUS_ID, `Text generation failed: ${error.message}. Please try a different prompt or refresh.`, 'error');
                    if (p2_generationResult) p2_generationResult.textContent = 'Text generation failed. Please see status for details.';
                } finally {
                    p2_generateTextBtn.disabled = false;
                    p2_generateTextBtn.innerHTML = originalBtnText;
                    clearStatusDelay(P2_STATUS_ID);
                }
            });
        }

        const p7_imagePrompt = document.getElementById('p7_imagePrompt');
        const p7_generateImageBtn = document.getElementById('p7_generateImageBtn');
        const p7_imageResult = document.getElementById('p7_imageResult');
        const p7_imagePlaceholder = document.getElementById('p7_imagePlaceholder');
        const P7_STATUS_ID = 'p7_status';

        if (p7_generateImageBtn) {
            const originalBtnText = p7_generateImageBtn.innerHTML;
            p7_generateImageBtn.addEventListener('click', async () => {
                const promptText = p7_imagePrompt.value.trim();
                if (!promptText) { setStatus(P7_STATUS_ID, 'Please enter a prompt for image generation.', 'warning'); return; }

                p7_generateImageBtn.disabled = true;
                p7_generateImageBtn.innerHTML = `<i class="fas fa-spinner fa-spin"></i> Generating...`;
                p7_imageResult.classList.add('hidden');
                p7_imageResult.src = '#';
                p7_imagePlaceholder.classList.remove('hidden');
                p7_imagePlaceholder.textContent = 'Initializing image model...';
                setStatus(P7_STATUS_ID, 'Initializing image generation model (this may take a while)...', 'warning');

                try {
                    const imageGenerator = await getImageGenerator(P7_STATUS_ID);
                    if (!imageGenerator) {
                        p7_imagePlaceholder.textContent = 'Generator failed to load. See status for details.';
                        return;
                    }

                    setStatus(P7_STATUS_ID, 'Generating image (this can take some time, please wait)...', 'warning');
                    p7_imagePlaceholder.textContent = 'Generating image, please wait... This can be resource intensive.';
                    const output = await imageGenerator(promptText, {
                        num_inference_steps: 1, // Turbo model specific
                        guidance_scale: 0.0,     // Turbo model specific
                    });

                    let imageUrl = null;
                    if (output && output.images && Array.isArray(output.images) && output.images.length > 0) {
                        imageUrl = `data:image/jpeg;base64,${output.images[0]}`;
                    } else if (output && output.image) {
                        imageUrl = output.image;
                    }

                    if (imageUrl) {
                        p7_imageResult.src = imageUrl;
                        p7_imageResult.classList.remove('hidden');
                        p7_imagePlaceholder.classList.add('hidden');
                        setStatus(P7_STATUS_ID, 'Image generated successfully! Note: Quality may vary with client-side models.', 'success');
                    } else {
                        throw new Error('Image data not found or in an unexpected format in pipeline output. Check console.');
                    }
                } catch (error) {
                    console.error("Image generation error:", error);
                    setStatus(P7_STATUS_ID, `Image generation failed: ${error.message}. Check console for details or try a simpler prompt. This is resource intensive.`, 'error');
                    p7_imagePlaceholder.textContent = 'Image generation failed. See status for details.';
                    p7_imagePlaceholder.classList.remove('hidden');
                    p7_imageResult.classList.add('hidden');
                } finally {
                    p7_generateImageBtn.disabled = false;
                    p7_generateImageBtn.innerHTML = originalBtnText;
                    clearStatusDelay(P7_STATUS_ID, 8000);
                }
            });
        }

        // --- Tier 2: Hugging Face API Demos ---
        const hfTokenInput = document.getElementById('hf_api_token');
        const hfTokenFeedback = document.getElementById('hf_api_token_feedback');

        if (hfTokenInput && hfTokenFeedback) {
            hfTokenInput.addEventListener('input', () => {
                if (hfTokenInput.value.trim()) {
                    hfTokenInput.style.borderColor = 'var(--success-primary)';
                    hfTokenFeedback.textContent = 'Token entered.';
                    hfTokenFeedback.style.color = 'var(--success-primary)';
                } else {
                    hfTokenInput.style.borderColor = 'var(--error-text)';
                    hfTokenFeedback.textContent = 'Token is required for API demos.';
                     hfTokenFeedback.style.color = 'var(--warning-text)';
                }
            });
             if (hfTokenInput.value.trim()) {
                 hfTokenInput.style.borderColor = 'var(--success-primary)';
                 hfTokenFeedback.textContent = 'Token entered.';
                 hfTokenFeedback.style.color = 'var(--success-primary)';
             } else {
                hfTokenFeedback.textContent = 'Token is required for API demos.';
                hfTokenFeedback.style.color = 'var(--text-muted)';
             }
        }

        function getApiToken(statusIdToUpdate) {
            const token = hfTokenInput.value.trim();
            if (!token) {
                setStatus(statusIdToUpdate, 'Hugging Face API Token is required. Please enter it above.', 'error');
                hfTokenInput.style.borderColor = 'var(--error-text)';
                hfTokenFeedback.textContent = 'Token is required for API demos.';
                hfTokenFeedback.style.color = 'var(--error-text)';
                hfTokenInput.focus();
                return null;
            }
            return token;
        }

        const originalButtonTexts = {};
        ['p4_runVlmBtn', 'p5_runLmBtn', 'p6_runCoderBtn'].forEach(btnId => {
            const button = document.getElementById(btnId);
            if (button) originalButtonTexts[btnId] = button.innerHTML;
        });

        async function runHfInference(modelId, inputs, task, statusId, resultElementId, buttonId, resultType = 'text') {
            const apiToken = getApiToken(statusId);
            if (!apiToken) return;

            const apiUrl = `https://api-inference.huggingface.co/models/${modelId}`;
            const button = document.getElementById(buttonId);
            
            if(button) {
                button.disabled = true;
                button.innerHTML = `<i class="fas fa-spinner fa-spin"></i> Running...`;
            }

            setStatus(statusId, `Sending request for ${modelId}...`, 'info');
            const resultEl = document.getElementById(resultElementId);
            if (resultEl) {
                resultEl.textContent = '';
            }

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${apiToken}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ inputs: inputs, options: { wait_for_model: true } })
                });

                if (!response.ok) {
                    let errorMsg = `API Error (${response.status})`;
                    try {
                        const errorBody = await response.json();
                        if (errorBody.error) {
                             errorMsg += `: ${errorBody.error}`;
                        }
                        if (errorBody.estimated_time) {
                            errorMsg = `Model ${modelId} is loading. Est. time: ${Math.round(errorBody.estimated_time)}s. Try again.`;
                            setStatus(statusId, errorMsg, 'warning');
                        } else {
                            setStatus(statusId, errorMsg, 'error');
                        }
                    } catch (e) {
                        errorMsg += `: ${response.statusText || 'Failed to get error details.'}`;
                        setStatus(statusId, errorMsg, 'error');
                    }
                    if(resultEl) resultEl.textContent = `Request failed. ${errorMsg}`;
                    return;
                }

                setStatus(statusId, 'Processing response...', 'info');
                const result = await response.json();

                if (resultEl) {
                    if (resultType === 'image_vlm') {
                         if (Array.isArray(result) && result.length > 0) {
                            if (result[0].generated_text) {
                                resultEl.textContent = result[0].generated_text;
                            } else if (result[0].answer) {
                                resultEl.textContent = `Answer: ${result[0].answer} (Score: ${(result[0].score * 100).toFixed(1)}%)`;
                            } else {
                                 resultEl.textContent = JSON.stringify(result, null, 2);
                            }
                         } else {
                              resultEl.textContent = JSON.stringify(result, null, 2);
                         }
                    } else { // text or code
                        resultEl.textContent = result[0]?.generated_text || JSON.stringify(result, null, 2);
                    }
                }
                setStatus(statusId, 'Result received successfully.', 'success');

            } catch (error) {
                console.error(`HF Inference API error for ${modelId}:`, error);
                const networkErrorMsg = "Network error or unable to reach API. Check connection/token.";
                setStatus(statusId, networkErrorMsg, 'error');
                if(resultEl) resultEl.textContent = networkErrorMsg;
            } finally {
                if(button) {
                    button.disabled = false;
                    button.innerHTML = originalButtonTexts[buttonId] || 'Run via API';
                }
                clearStatusDelay(statusId);
            }
        }

        const p4_runVlmBtn = document.getElementById('p4_runVlmBtn');
        if(p4_runVlmBtn) {
            p4_runVlmBtn.addEventListener('click', async () => {
                const imageUrl = document.getElementById('p4_imageUrl').value.trim();
                const modelIdInput = document.getElementById('p4_vlmModelId');
                let modelId = modelIdInput.value.trim() || 'Salesforce/blip-image-captioning-large';
                if (!modelIdInput.value.trim()) modelIdInput.value = modelId;
                const question = document.getElementById('p4_vqaPrompt').value.trim();

                if (!imageUrl) { setStatus('p4_vlmStatus', 'Please enter an image URL.', 'warning'); return; }
                if (!modelId) { setStatus('p4_vlmStatus', 'Please enter a Hugging Face Model ID.', 'warning'); return; }

                let inputs;
                let taskType = 'image-to-text';
                if (question || modelId.toLowerCase().includes('vqa')) {
                    taskType = 'visual-question-answering';
                    inputs = { image_url: imageUrl, question: question || "What is in this image?" };
                } else {
                    inputs = { image_url: imageUrl };
                }
                await runHfInference(modelId, inputs, taskType, 'p4_vlmStatus', 'p4_vlmResult', 'p4_runVlmBtn', 'image_vlm');
            });
        }
        
        const p5_runLmBtn = document.getElementById('p5_runLmBtn');
        if(p5_runLmBtn) {
            p5_runLmBtn.addEventListener('click', async () => {
                const prompt = document.getElementById('p5_lmPrompt').value.trim();
                const modelIdInput = document.getElementById('p5_lmModelId');
                let modelId = modelIdInput.value.trim() || 'microsoft/Phi-3-mini-4k-instruct';
                if (!modelIdInput.value.trim()) modelIdInput.value = modelId;

                if (!prompt) { setStatus('p5_lmStatus', 'Please enter a prompt.', 'warning'); return; }
                if (!modelId) { setStatus('p5_lmStatus', 'Please enter a Hugging Face Model ID.', 'warning'); return; }
                await runHfInference(modelId, prompt, 'text-generation', 'p5_lmStatus', 'p5_lmResult', 'p5_runLmBtn', 'text');
            });
        }

        const p6_runCoderBtn = document.getElementById('p6_runCoderBtn');
        if(p6_runCoderBtn) {
            p6_runCoderBtn.addEventListener('click', async () => {
                const prompt = document.getElementById('p6_codePrompt').value.trim();
                const modelIdInput = document.getElementById('p6_coderModelId');
                let modelId = modelIdInput.value.trim() || 'deepseek-ai/deepseek-coder-1.3b-instruct';
                if (!modelIdInput.value.trim()) modelIdInput.value = modelId;
                
                if (!prompt) { setStatus('p6_coderStatus', 'Please enter a code prompt.', 'warning'); return; }
                if (!modelId) { setStatus('p6_coderStatus', 'Please enter a Hugging Face Model ID.', 'warning'); return; }
                await runHfInference(modelId, prompt, 'text-generation', 'p6_coderStatus', 'p6_coderResult', 'p6_runCoderBtn', 'code');
            });
        }

        // --- General UI Enhancements ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        if (mobileMenuButton && mobileMenu) {
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
                mobileMenuButton.querySelector('i').classList.toggle('fa-bars');
                mobileMenuButton.querySelector('i').classList.toggle('fa-times');
            });
            document.querySelectorAll('#mobile-menu a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                    mobileMenuButton.querySelector('i').classList.add('fa-bars');
                    mobileMenuButton.querySelector('i').classList.remove('fa-times');
                });
            });
        }

        document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        const footerYear = document.getElementById('footerYear');
        if (footerYear) footerYear.textContent = new Date().getFullYear();

        const contactForm = document.getElementById('contact-form');
        const contactStatus = document.getElementById('contact-status');
        if (contactForm && contactStatus) {
            const submitButton = contactForm.querySelector('button[type="submit"]');
            const originalSubmitButtonText = submitButton ? submitButton.innerHTML : "Send Message";

            contactForm.addEventListener('submit', async function(event) {
                event.preventDefault();
                contactStatus.textContent = '';
                contactStatus.className = 'mt-4 text-center text-sm';

                if (submitButton) {
                    submitButton.innerHTML = `<i class="fas fa-spinner fa-spin"></i> Sending...`;
                    submitButton.disabled = true;
                }

                try {
                    const name = document.getElementById('name').value;
                    const email = document.getElementById('email').value;
                    const subject = document.getElementById('subject').value || "Portfolio Contact";
                    const message = document.getElementById('message').value;

                    if (name && email && message) {
                        await new Promise(resolve => setTimeout(resolve, 1000)); 

                        const mailtoLink = `mailto:satyamdixit6666@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent("Name: " + name + "\nEmail: " + email + "\n\nMessage:\n" + message)}`;
                        
                        contactStatus.textContent = "Message prepared! Please complete sending in your email client.";
                        contactStatus.style.color = 'var(--success-primary)';
                        contactForm.reset();
                        
                        try {
                            const mailWindow = window.open(mailtoLink, '_blank');
                            if (!mailWindow) {
                                contactStatus.textContent += " (Popup blocked?)";
                            }
                        } catch (e) {
                            contactStatus.textContent += " (Could not open email client.)";
                            console.warn("Could not open mailto link:", e);
                        }
                    } else {
                        contactStatus.textContent = "Please fill out all required fields.";
                        contactStatus.style.color = 'var(--error-text)';
                    }
                } catch (error) {
                    console.error("Contact form submission error:", error);
                    contactStatus.textContent = "An unexpected error occurred.";
                    contactStatus.style.color = 'var(--error-text)';
                } finally {
                    if (submitButton) {
                        submitButton.innerHTML = originalSubmitButtonText;
                        submitButton.disabled = false;
                    }
                    setTimeout(() => {
                        if (contactStatus.style.color !== 'var(--error-text)') {
                             contactStatus.textContent = "";
                        }
                    }, 7000);
                }
            });
        }

        const scrollToTopBtn = document.getElementById('scrollToTopBtn');
        if (scrollToTopBtn) {
            const handleScroll = () => {
                if (window.pageYOffset > 300) {
                    scrollToTopBtn.classList.remove('opacity-0', 'pointer-events-none');
                    scrollToTopBtn.classList.add('opacity-100');
                } else {
                    scrollToTopBtn.classList.add('opacity-0', 'pointer-events-none');
                    scrollToTopBtn.classList.remove('opacity-100');
                }
            };
            window.addEventListener('scroll', handleScroll);
            handleScroll();
            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        const animatedElements = document.querySelectorAll('.scroll-animate');
        if (animatedElements.length > 0) {
            const observer = new IntersectionObserver((entries, obs) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        obs.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            animatedElements.forEach(el => observer.observe(el));
        }
       console.log("Portfolio JavaScript enhancements loaded.");
    </script>
</body>
</html>
